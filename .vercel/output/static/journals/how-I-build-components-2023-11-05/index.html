<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="description" content="CSS wizard üßô‚Äç‚ôÇÔ∏è. Building slick and accessible 
      interfaces for brilliant ideas.  Breaking things and 
      learning along the way."><link rel="sitemap" href="/sitemap-index.xml"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="generator" content="Astro v3.4.3"><meta name="viewport" content="width=device-width"><title>Rajbir Johar | How I Build UI Components</title><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><style>._note_wpk4a_1{display:flex;padding:var(--gutter-md);gap:var(--gutter);background-color:var(--note-bg);border-radius:var(--border-radius);border:2px solid var(--border-color)}._note_wpk4a_1 ._prose_wpk4a_9>*+*{margin-block-start:1rem}._note_wpk4a_1 ._icon_wpk4a_12{margin-top:2px;min-height:24px;min-width:24px;max-height:24px;max-width:24px}
._main_q6lmk_1{width:100%;max-width:var(--main-content-width);margin:0 auto;padding:var(--gutter-xxl) var(--gutter-md)}._main_q6lmk_1 ._prose_q6lmk_7{max-width:var(--prose-width)}._main_q6lmk_1 ._prose_q6lmk_7>*+*{margin-block-start:1rem}._main_q6lmk_1 ._prose_q6lmk_7 ._back_q6lmk_13{display:inline-flex;align-items:center;gap:var(--gutter-xs);border-bottom:none}._main_q6lmk_1 ._prose_q6lmk_7 ._header_q6lmk_19{display:flex;flex-direction:column;align-items:center;margin-bottom:var(--gutter-xl)}._main_q6lmk_1 ._prose_q6lmk_7 ._header_q6lmk_19 ._published_q6lmk_25{color:var(--sub-fg);font-size:var(--font-sm)}@media screen and (max-width: 668px){._main_q6lmk_1 ._prose_q6lmk_7 ._header_q6lmk_19{align-items:flex-start}}._main_q6lmk_1 ._prose_q6lmk_7 ._pagination_q6lmk_34{display:flex;justify-content:space-between;margin-top:var(--gutter-xl)}._main_q6lmk_1 ._prose_q6lmk_7 ._pagination_q6lmk_34 ._link_q6lmk_39{display:inline-flex;position:relative;overflow:hidden;cursor:pointer;border-bottom:none;align-items:center;gap:var(--gutter-xs)}._main_q6lmk_1 ._prose_q6lmk_7 ._pagination_q6lmk_34 ._link_q6lmk_39:after{content:"";position:absolute;bottom:0;left:0;width:0%;height:2px;border-radius:4px;background-color:var(--link);transition:width var(--transition)}._main_q6lmk_1 ._prose_q6lmk_7 ._pagination_q6lmk_34 ._link_q6lmk_39:hover:after{width:100%}
</style>
<link rel="stylesheet" href="/_astro/index.2900421f.css" />
<style>._figure_13jey_1{display:flex;flex-direction:column;align-items:center;gap:var(--gutter)}._figure_13jey_1 ._image_13jey_7{border-radius:var(--border-radius);box-shadow:var(--shadow);height:auto;width:100%}._figure_13jey_1 ._caption_13jey_13{color:var(--sub-fg);text-align:center;max-width:468px}
</style><script type="module" src="/_astro/hoisted.382ac49c.js"></script></head><body><header class="_header_c04xx_1"><nav class="_nav_c04xx_25"><a href="/">Hello</a><a href="/about">
Whoami
</a><a href="/journals" class="_active_c04xx_40">
Journals
</a></nav></header><main class="_main_q6lmk_1"><article class="_prose_q6lmk_7"><a href="/journals" class="_back_q6lmk_13"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 19V5"></path><path d="m13 6-6 6 6 6"></path><path d="M7 12h14"></path></svg> Index</a><header class="_header_q6lmk_19"><h1>How I Build UI Components</h1><time class="_published_q6lmk_25" datetime="2023-11-05T00:00:00.000Z">
Written Nov 7th, 2023</time></header><div class="divider"></div><p>Creating robust UI components is a balancing act. They must be sufficiently versatile to be reusable across your application, yet not so over-engineered that their complexity becomes a hindrance. A thoughtful approach to handling data flow in and out of components is often a solid starting point.</p>
<div class="_note_wpk4a_1 undefined"><svg xmlns="http://www.w3.org/2000/svg" class="_icon_wpk4a_12" width="24" height="24" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><path d="M12 16v-4"></path><path d="M12 8h.01"></path></svg><div class="_prose_wpk4a_9"><p><strong>My Way‚Ä¶ Or Your Way</strong></p><p>This is how I build UI components. It‚Äôs not the only way, nor is it the best way. It‚Äôs simply the way that works for me.
I‚Äôm always open to new ideas and approaches, so if you have any suggestions, please reach out at my email at the bottom.</p></div></div>
<h2 id="start-with-the-data">Start with the Data</h2>
<p>Begin by scrutinizing the data. Determine what is necessary for the component to function:</p>
<ol>
<li>What data is required for rendering?</li>
<li>What input does the component need to operate effectively?</li>
<li>What outputs must the component return to the parent?</li>
</ol>
<p>For example:</p>
<pre class="astro-code nord" style="background-color:#2e3440ff;color:#d8dee9ff;overflow-x:auto" tabindex="0" lang="tsx"><code><span class="line"><span style="color:#81A1C1">&lt;</span><span style="color:#8FBCBB">Counter</span></span>
<span class="line"><span style="color:#8FBCBB">  count</span><span style="color:#81A1C1">={</span><span style="color:#D8DEE9">count</span><span style="color:#81A1C1">}</span></span>
<span class="line"><span style="color:#8FBCBB">  onIncrement</span><span style="color:#81A1C1">={</span><span style="color:#ECEFF4">()</span><span style="color:#81A1C1"> =&gt;</span><span style="color:#88C0D0"> setCount</span><span style="color:#D8DEE9FF">(</span><span style="color:#D8DEE9">count</span><span style="color:#81A1C1"> +</span><span style="color:#B48EAD"> 1</span><span style="color:#D8DEE9FF">)</span><span style="color:#81A1C1">}</span></span>
<span class="line"><span style="color:#8FBCBB">  onDecrement</span><span style="color:#81A1C1">={</span><span style="color:#ECEFF4">()</span><span style="color:#81A1C1"> =&gt;</span><span style="color:#88C0D0"> setCount</span><span style="color:#D8DEE9FF">(</span><span style="color:#D8DEE9">count</span><span style="color:#81A1C1"> -</span><span style="color:#B48EAD"> 1</span><span style="color:#D8DEE9FF">)</span><span style="color:#81A1C1">}</span></span>
<span class="line"><span style="color:#81A1C1">/&gt;</span></span></code></pre>
<p>This approach excels in scenarios where the parent manages a collection of children, and the interaction with a specific child is crucial, such as selection handling in a list.</p>
<h2 id="reactforwardref">React.forwardRef</h2>
<p>Incorporating <code>React.forwardRef</code> is essential when your component needs to interact with a ref. This becomes particularly useful for crafting components that are as accessible as native HTML elements, which is a frequent requirement with form libraries like <code>react-hook-form</code>.</p>
<pre class="astro-code nord" style="background-color:#2e3440ff;color:#d8dee9ff;overflow-x:auto" tabindex="0" lang="tsx"><code><span class="line"><span style="color:#81A1C1">const</span><span style="color:#D8DEE9"> Button</span><span style="color:#81A1C1"> =</span><span style="color:#D8DEE9"> React</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">forwardRef</span><span style="color:#81A1C1">&lt;</span></span>
<span class="line"><span style="color:#D8DEE9">  HTMLButtonElement</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9">  React</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">ComponentPropsWithoutRef</span><span style="color:#81A1C1">&lt;</span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">button</span><span style="color:#ECEFF4">&quot;</span><span style="color:#81A1C1">&gt;</span></span>
<span class="line"><span style="color:#81A1C1">&gt;</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">({</span><span style="color:#D8DEE9"> children</span><span style="color:#ECEFF4">,</span><span style="color:#81A1C1"> ...</span><span style="color:#D8DEE9">props</span><span style="color:#ECEFF4"> },</span><span style="color:#D8DEE9"> ref</span><span style="color:#ECEFF4">)</span><span style="color:#81A1C1"> =&gt;</span><span style="color:#D8DEE9FF"> (</span></span>
<span class="line"><span style="color:#81A1C1">  &lt;button</span><span style="color:#8FBCBB"> ref</span><span style="color:#81A1C1">={</span><span style="color:#D8DEE9">ref</span><span style="color:#81A1C1">}</span><span style="color:#81A1C1"> {...</span><span style="color:#D8DEE9">props</span><span style="color:#81A1C1">}&gt;</span></span>
<span class="line"><span style="color:#81A1C1">    {</span><span style="color:#D8DEE9">children</span><span style="color:#81A1C1">}</span></span>
<span class="line"><span style="color:#81A1C1">  &lt;/button&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">))</span><span style="color:#81A1C1">;</span></span></code></pre>
<p>This allows you to extend your component‚Äôs properties without sacrificing inherent HTML element attributes.</p>
<pre class="astro-code nord" style="background-color:#2e3440ff;color:#d8dee9ff;overflow-x:auto" tabindex="0" lang="tsx"><code><span class="line"><span style="color:#81A1C1">interface</span><span style="color:#8FBCBB"> ButtonProps</span><span style="color:#ECEFF4"> {</span></span>
<span class="line"><span style="color:#D8DEE9FF">  variant</span><span style="color:#81A1C1">?:</span><span style="color:#ECEFF4"> &quot;</span><span style="color:#A3BE8C">primary</span><span style="color:#ECEFF4">&quot;</span><span style="color:#81A1C1"> |</span><span style="color:#ECEFF4"> &quot;</span><span style="color:#A3BE8C">secondary</span><span style="color:#ECEFF4">&quot;</span><span style="color:#81A1C1">;</span></span>
<span class="line"><span style="color:#ECEFF4">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#81A1C1">const</span><span style="color:#D8DEE9"> Button</span><span style="color:#81A1C1"> =</span><span style="color:#D8DEE9"> React</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">forwardRef</span><span style="color:#81A1C1">&lt;</span></span>
<span class="line"><span style="color:#D8DEE9">  HTMLButtonElement</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9">  React</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">ComponentPropsWithoutRef</span><span style="color:#81A1C1">&lt;</span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">button</span><span style="color:#ECEFF4">&quot;</span><span style="color:#81A1C1">&gt;</span><span style="color:#81A1C1"> &amp;</span><span style="color:#D8DEE9"> ButtonProps</span></span>
<span class="line"><span style="color:#81A1C1">&gt;</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">({</span><span style="color:#D8DEE9"> children</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9"> variant</span><span style="color:#81A1C1"> =</span><span style="color:#ECEFF4"> &quot;</span><span style="color:#A3BE8C">primary</span><span style="color:#ECEFF4">&quot;</span><span style="color:#ECEFF4">,</span><span style="color:#81A1C1"> ...</span><span style="color:#D8DEE9">props</span><span style="color:#ECEFF4"> },</span><span style="color:#D8DEE9"> ref</span><span style="color:#ECEFF4">)</span><span style="color:#81A1C1"> =&gt;</span><span style="color:#D8DEE9FF"> (</span></span>
<span class="line"><span style="color:#81A1C1">  &lt;button</span><span style="color:#8FBCBB"> ref</span><span style="color:#81A1C1">={</span><span style="color:#D8DEE9">ref</span><span style="color:#81A1C1">}</span><span style="color:#8FBCBB"> className</span><span style="color:#81A1C1">={</span><span style="color:#ECEFF4">`</span><span style="color:#A3BE8C">button </span><span style="color:#ECEFF4">${</span><span style="color:#D8DEE9">variant</span><span style="color:#ECEFF4">}`</span><span style="color:#81A1C1">}</span><span style="color:#81A1C1"> {...</span><span style="color:#D8DEE9">props</span><span style="color:#81A1C1">}&gt;</span></span>
<span class="line"><span style="color:#81A1C1">    {</span><span style="color:#D8DEE9">children</span><span style="color:#81A1C1">}</span></span>
<span class="line"><span style="color:#81A1C1">  &lt;/button&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">))</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#616E88">// Usage</span></span>
<span class="line"><span style="color:#81A1C1">&lt;</span><span style="color:#8FBCBB">Button</span><span style="color:#8FBCBB"> variant</span><span style="color:#81A1C1">=</span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">secondary</span><span style="color:#ECEFF4">&quot;</span><span style="color:#81A1C1">&gt;</span><span style="color:#D8DEE9FF">Click Me</span><span style="color:#81A1C1">&lt;/</span><span style="color:#8FBCBB">Button</span><span style="color:#81A1C1">&gt;;</span></span></code></pre>
<h2 id="co-locating-functions-and-styles">Co-locating Functions and Styles</h2>
<p>Co-locating styles with their respective components streamlines development by simplifying component management.</p>
<pre class="astro-code nord" style="background-color:#2e3440ff;color:#d8dee9ff;overflow-x:auto" tabindex="0" lang="bash"><code><span class="line"><span style="color:#88C0D0">src/</span></span>
<span class="line"><span style="color:#88C0D0">  components/</span></span>
<span class="line"><span style="color:#88C0D0">    Button/</span></span>
<span class="line"><span style="color:#88C0D0">      Button.tsx</span></span>
<span class="line"><span style="color:#88C0D0">      Button.module.scss</span></span></code></pre>
<p>This principle also applies to utility functions. For instance:</p>
<pre class="astro-code nord" style="background-color:#2e3440ff;color:#d8dee9ff;overflow-x:auto" tabindex="0" lang="ts"><code><span class="line"><span style="color:#616E88">// src/utils/addTwoNumbers.ts</span></span>
<span class="line"></span>
<span class="line"><span style="color:#81A1C1">export</span><span style="color:#81A1C1"> const</span><span style="color:#88C0D0"> addTwoNumbers</span><span style="color:#81A1C1"> =</span><span style="color:#ECEFF4"> (</span><span style="color:#D8DEE9">a</span><span style="color:#81A1C1">:</span><span style="color:#8FBCBB"> number</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9"> b</span><span style="color:#81A1C1">:</span><span style="color:#8FBCBB"> number</span><span style="color:#ECEFF4">)</span><span style="color:#81A1C1"> =&gt;</span><span style="color:#D8DEE9"> a</span><span style="color:#81A1C1"> +</span><span style="color:#D8DEE9"> b</span><span style="color:#81A1C1">;</span></span></code></pre>
<p>Obviously, this example is ridiculous, but you get the point. If a function is prematurely abstracted and ends up unused elsewhere, it becomes technical debt. Keeping it alongside the component until it‚Äôs proven to be needed elsewhere can save future refactoring.</p>
<h2 id="embrace-component-composition">Embrace Component Composition</h2>
<p>Rather than creating a monolithic component that tries to do everything, use composition to build smaller, reusable components that can be combined in new ways. This is the ‚Äúcomposable‚Äù approach which React favors:</p>
<pre class="astro-code nord" style="background-color:#2e3440ff;color:#d8dee9ff;overflow-x:auto" tabindex="0" lang="tsx"><code><span class="line"><span style="color:#81A1C1">const</span><span style="color:#88C0D0"> UserProfile</span><span style="color:#81A1C1"> =</span><span style="color:#ECEFF4"> ()</span><span style="color:#81A1C1"> =&gt;</span><span style="color:#D8DEE9FF"> (</span></span>
<span class="line"><span style="color:#81A1C1">  &lt;</span><span style="color:#8FBCBB">Card</span><span style="color:#81A1C1">&gt;</span></span>
<span class="line"><span style="color:#81A1C1">    &lt;</span><span style="color:#8FBCBB">Avatar</span><span style="color:#81A1C1"> /&gt;</span></span>
<span class="line"><span style="color:#81A1C1">    &lt;</span><span style="color:#8FBCBB">UserName</span><span style="color:#81A1C1"> /&gt;</span></span>
<span class="line"><span style="color:#81A1C1">    &lt;</span><span style="color:#8FBCBB">UserBio</span><span style="color:#81A1C1"> /&gt;</span></span>
<span class="line"><span style="color:#81A1C1">  &lt;/</span><span style="color:#8FBCBB">Card</span><span style="color:#81A1C1">&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">)</span><span style="color:#81A1C1">;</span></span></code></pre>
<p>This pattern encourages reusability and can greatly simplify the testing of individual components.</p>
<h2 id="keep-components-pure">Keep Components Pure</h2>
<p>Aim to write pure components whenever possible. Pure components are those that do not mutate their inputs and always render the same output for the same state and props. This predictability can make your components easier to debug and optimize.</p>
<h2 id="when-to-know-youve-gone-too-far">When to Know You‚Äôve Gone Too Far</h2>
<p>Overburdening a component with props is a telltale sign that it‚Äôs time to reassess its design. Excessive props can indicate that a component is taking on too many responsibilities or that the data model it relies on could benefit from refinement.</p>
<h2 id="striking-the-right-balance">Striking the Right Balance</h2>
<p>The key to effective UI component design lies in finding the sweet spot between flexibility and simplicity. It‚Äôs about making each component a self-contained unit that‚Äôs easy to maintain and understand. By starting with the data, using tools like <code>React.forwardRef</code> wisely, co-locating related code, and being mindful of prop proliferation, you create a codebase that‚Äôs as nimble as it is scalable. As your components evolve, keep a watchful eye for signs of overextension‚Äîit‚Äôs the linchpin to maintaining an efficient and coherent UI architecture.</p>
<p>With these practices, you‚Äôre well on your way to building a UI that‚Äôs as user-friendly for the developers as it is for the end-users.</p>
<p>Remember, the best components are those that work quietly in the background, seamlessly bringing the user experience to life.</p><footer class="_pagination_q6lmk_34"><div></div><a href="/journals/plastic-fantastic-2023-11-04" class="_link_q6lmk_39">Plastic Fantastic? A Credit Card Saga<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"></path><path d="m12 5 7 7-7 7"></path></svg></a></footer></article></main><div class="divider"></div><footer class="_footer_1dvkl_1"><div class="_column_1dvkl_8"><small class="_header_1dvkl_11">Rajbir Johar</small><div>UX Engineer</div></div><div class="_column_1dvkl_8"><small class="_header_1dvkl_11">Contact</small><div>hello@rajbir.io</div></div><div class="_column_1dvkl_8"><small class="_header_1dvkl_11">Built With</small><div>üöÄ Astro.</div></div><div class="_column_1dvkl_8"><small class="_header_1dvkl_11">Elsewhere</small><span class="_linkwrapper_1dvkl_15"><a href="https://www.linkedin.com/in/rajbirjohar/">
LinkedIn
</a><svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M7 7h10v10"></path><path d="M7 17 17 7"></path></svg></span>
, <span class="_linkwrapper_1dvkl_15"><a href="https://www.github.com/rajbirjohar">
Github
</a><svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M7 7h10v10"></path><path d="M7 17 17 7"></path></svg></span></div></footer><div class="_wrapper_4v1gp_1"><pre class="_ascii_4v1gp_9">                             <span class="_firefly_4v1gp_29">*</span>                 <span class="_firefly_4v1gp_29">*</span>                                    <span class="_smoke_4v1gp_21">    </span>                              <span class="_firefly_4v1gp_29">*</span>                                            
      ^     ^                          ^                           ^                <span class="_smoke_4v1gp_21">## #</span>                      <span class="_firefly_4v1gp_29">*</span>               ^                              ^     
     /|\ ^ /|\       ^    ^      <span class="_firefly_4v1gp_29">*</span>    /|\           ^    ^        /|\ ^            <span class="_smoke_4v1gp_21"># #</span>     <span class="_tent_4v1gp_33">____</span>   <span class="_firefly_4v1gp_29">*</span>      ^                   /|\   ^  <span class="_firefly_4v1gp_29">*</span>      ^    ^       ^ /|\   
     /|\/|\/|\    ^ /|\  /|\ ^      <span class="_firefly_4v1gp_29">*</span> /|\  ^  <span class="_firefly_4v1gp_29">*</span>  ^ /|\  /|\ ^     /|\/|\    ^     <span class="_smoke_4v1gp_21">##</span>      <span class="_tent_4v1gp_33">^    \</span>    <span class="_firefly_4v1gp_29">*</span>   /|\ ^    ^   ^   <span class="_firefly_4v1gp_29">*</span>   /|\  /|\     ^ /|\  /|\   ^ /|\/|\ ^ 
     /|\/|\/|\   /|\/|\  /|\/|\       /|\ /|\   /|\/|\  /|\/|\    /|\/|\   /|\   <span class="_fire_4v1gp_25">***</span>     <span class="_tent_4v1gp_33">/|\    \</span>       /|\/|\  /|\ /|\ <span class="_firefly_4v1gp_29">*</span>    /|\  /|\    /|\/|\  /|\  /|\/|\/|\/|\
      |  |  |    .| #|.. .|&/|\  <span class="_firefly_4v1gp_29">*</span>     | #&|.   .| #|.. .|&/|\     | #|.   /|\  =*=*=   <span class="_tent_4v1gp_33">/#|#\    \</span>      .| #|.. .|& /|\       |#& /|\    .| #|.. .|&  /|\ |  |  |  
    -----    ----- -----      -----   -----     -----     ----------   -----    --------------------   -----  ---------- -----    ----------   ----- -----   ----- 
    </pre></div><div class="gradient"></div></body></html>